# SPEC-QA-001: 인수 기준

## 개요

본 문서는 폼 기반 Q&A 시스템의 인수 테스트 시나리오와 성공 기준을 정의합니다.

---

## 테스트 시나리오

### TC-001: Q&A 세션 시작

**Given (전제 조건)**
- 사용자가 로그인된 상태이다
- 질문 템플릿이 시스템에 등록되어 있다

**When (동작)**
- 사용자가 "Q&A 시작" 버튼을 클릭한다

**Then (결과)**
- QAFormModal이 화면에 표시된다
- 새로운 Q&A 세션이 생성된다
- 첫 번째 카테고리의 질문들이 표시된다
- 진행률이 0%로 표시된다

---

### TC-002: 답변 입력 및 자동 저장

**Given (전제 조건)**
- Q&A 세션이 진행 중이다
- 질문 목록이 표시되어 있다

**When (동작)**
- 사용자가 텍스트 질문에 답변을 입력한다
- 3초가 경과한다

**Then (결과)**
- 답변이 상태에 반영된다
- 로컬 스토리지에 세션 데이터가 저장된다
- 진행률이 업데이트된다

---

### TC-003: 카테고리 필터링

**Given (전제 조건)**
- Q&A 세션이 진행 중이다
- 복수의 카테고리가 존재한다

**When (동작)**
- 사용자가 특정 카테고리를 선택한다

**Then (결과)**
- 선택한 카테고리의 질문만 표시된다
- 다른 카테고리의 질문은 숨겨진다
- 카테고리 선택 UI에 현재 선택이 표시된다

---

### TC-004: 세션 완료

**Given (전제 조건)**
- Q&A 세션이 진행 중이다
- 모든 필수 질문에 답변이 입력되어 있다

**When (동작)**
- 사용자가 "완료" 버튼을 클릭한다

**Then (결과)**
- 모든 답변이 서버에 저장된다
- 세션 상태가 "completed"로 변경된다
- QAFormModal이 닫힌다
- 성공 메시지가 표시된다

---

### TC-005: 진행률 표시

**Given (전제 조건)**
- Q&A 세션이 진행 중이다
- 총 10개의 질문이 있다

**When (동작)**
- 사용자가 5개의 질문에 답변을 입력한다

**Then (결과)**
- 진행률이 50%로 표시된다
- 프로그레스 바가 절반 채워진다

---

### TC-006: 필수 질문 미답변 시 완료 버튼 비활성화

**Given (전제 조건)**
- Q&A 세션이 진행 중이다
- 필수 질문이 존재한다

**When (동작)**
- 필수 질문 중 일부에 답변이 없다

**Then (결과)**
- "완료" 버튼이 비활성화 상태이다
- 미답변 필수 질문에 경고 표시가 나타난다

---

### TC-007: 입력 유효성 검사

**Given (전제 조건)**
- Q&A 세션이 진행 중이다
- 최소 길이 제한(5자)이 있는 질문이 있다

**When (동작)**
- 사용자가 3자만 입력한다

**Then (결과)**
- 유효성 검사 오류 메시지가 표시된다
- 입력 필드가 오류 상태로 스타일링된다
- 해당 질문은 답변 완료로 처리되지 않는다

---

### TC-008: 세션 복구

**Given (전제 조건)**
- 이전에 진행 중이던 세션 데이터가 로컬 스토리지에 있다
- 사용자가 Q&A 페이지에 접속한다

**When (동작)**
- 세션 복구 다이얼로그가 표시된다
- 사용자가 "복구" 버튼을 클릭한다

**Then (결과)**
- 이전 세션이 로드된다
- 기존 답변들이 복원된다
- 이전 진행률이 표시된다

---

## 엣지 케이스 테스트

### TC-E-001: 네트워크 오류 처리

**Given (전제 조건)**
- Q&A 세션이 진행 중이다
- 네트워크 연결이 불안정하다

**When (동작)**
- 사용자가 "완료" 버튼을 클릭한다
- API 요청이 실패한다

**Then (결과)**
- 오류 메시지가 표시된다
- "재시도" 버튼이 표시된다
- 세션 데이터는 로컬에 보존된다

---

### TC-E-002: 중복 제출 방지

**Given (전제 조건)**
- Q&A 세션이 진행 중이다
- 모든 필수 질문에 답변이 있다

**When (동작)**
- 사용자가 "완료" 버튼을 빠르게 두 번 클릭한다

**Then (결과)**
- API 요청이 한 번만 전송된다
- 첫 번째 클릭 후 버튼이 비활성화된다
- 로딩 상태가 표시된다

---

### TC-E-003: 빈 템플릿 처리

**Given (전제 조건)**
- 템플릿에 질문이 없다

**When (동작)**
- Q&A 세션을 시작한다

**Then (결과)**
- "질문이 없습니다" 메시지가 표시된다
- 세션을 바로 완료할 수 있다

---

### TC-E-004: 브라우저 새로고침 복구

**Given (전제 조건)**
- Q&A 세션이 진행 중이다
- 일부 답변이 입력되어 있다

**When (동작)**
- 사용자가 브라우저를 새로고침한다

**Then (결과)**
- 세션 복구 다이얼로그가 표시된다
- 복구 선택 시 모든 답변이 유지된다

---

## 성공 기준

### 기능 완성도

- 모든 TC-001 ~ TC-008 테스트 통과
- 모든 엣지 케이스 테스트 통과
- 모든 EARS 요구사항 구현 완료

### 품질 기준

- 단위 테스트 커버리지 85% 이상
- 린터 경고 0건
- 타입 오류 0건

### 성능 기준

- 모달 오픈 시간: 200ms 이하
- 답변 저장 응답 시간: 500ms 이하
- 100개 질문 렌더링: 1초 이하

### 접근성 기준

- 키보드 탐색 가능
- 스크린 리더 지원
- 적절한 색상 대비

---

## 검증 방법

### 자동화 테스트

- Jest + React Testing Library를 사용한 컴포넌트 테스트
- Playwright를 사용한 E2E 테스트
- GitHub Actions CI/CD 파이프라인 통합

### 수동 테스트

- 크로스 브라우저 테스트 (Chrome, Firefox, Safari, Edge)
- 모바일 반응형 테스트
- 접근성 수동 검증

---

## Definition of Done

해당 SPEC이 완료되었다고 인정되는 조건:

1. 모든 EARS 요구사항이 구현됨
2. 모든 테스트 시나리오가 통과함
3. 코드 리뷰 완료
4. 테스트 커버리지 85% 이상
5. 문서 업데이트 완료
6. SPEC-TASK-001, SPEC-TEMPLATE-001과 통합 테스트 완료

---

## 관련 문서

- [spec.md](./spec.md) - 요구사항 명세
- [plan.md](./plan.md) - 구현 계획
