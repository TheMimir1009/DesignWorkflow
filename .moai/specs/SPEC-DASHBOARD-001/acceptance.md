# SPEC-DASHBOARD-001: 수용 기준 (Acceptance Criteria)

## 개요

이 문서는 대시보드 및 분석 기능(SPEC-DASHBOARD-001)의 수용 기준을 Given/When/Then 형식으로 정의합니다.

---

## 1. 핵심 시나리오

### AC-001: 대시보드 접근

**기능**: 대시보드 메뉴를 통한 대시보드 뷰 접근

```gherkin
시나리오: 사용자가 대시보드 메뉴를 클릭하여 대시보드를 본다

Given: 사용자가 프로젝트를 선택한 상태이고
  And: 프로젝트에 5개의 태스크가 있을 때

When: 사용자가 사이드바의 "대시보드" 메뉴를 클릭하면

Then: 대시보드 뷰가 표시되고
  And: 통계 요약 카드 4개가 표시되고
  And: 태스크 상태 차트가 표시되고
  And: 진행률 타임라인 차트가 표시된다
```

### AC-002: 통계 요약 표시

**기능**: 프로젝트 통계 요약 카드 표시

```gherkin
시나리오: 대시보드에서 정확한 통계를 확인한다

Given: 프로젝트에 다음과 같은 태스크가 있을 때:
  | 상태         | 개수 |
  | featurelist | 3    |
  | design      | 4    |
  | prd         | 2    |
  | prototype   | 1    |

When: 사용자가 대시보드를 확인하면

Then: "총 태스크" 카드에 10이 표시되고
  And: "진행중" 카드에 9가 표시되고 (prototype 제외)
  And: "완료율" 카드에 10%가 표시되고
  And: 각 카드에 적절한 아이콘이 표시된다
```

### AC-003: 태스크 상태 차트

**기능**: 태스크 상태 분포 파이 차트 표시

```gherkin
시나리오: 태스크 상태 분포를 파이 차트로 확인한다

Given: 프로젝트에 여러 상태의 태스크가 있을 때

When: 사용자가 대시보드의 태스크 상태 차트를 확인하면

Then: 파이/도넛 차트가 표시되고
  And: 각 상태별로 다른 색상으로 표시되고
  And: 범례에 상태명과 개수가 표시된다
```

### AC-004: 차트 호버 인터랙션

**기능**: 차트 호버 시 툴팁 표시

```gherkin
시나리오: 파이 차트의 특정 영역에 마우스를 올리면 상세 정보를 본다

Given: 대시보드에 태스크 상태 차트가 표시되어 있을 때

When: 사용자가 "Design Doc" 영역에 마우스를 올리면

Then: 툴팁이 표시되고
  And: 툴팁에 "Design Doc: 4개 (40%)"와 같은 정보가 표시된다
```

### AC-005: 시계열 진행률 차트

**기능**: 기간별 진행률 라인 차트 표시

```gherkin
시나리오: 주간 진행률 추이를 라인 차트로 확인한다

Given: 프로젝트에 최근 7일간의 태스크 활동 데이터가 있을 때

When: 사용자가 기간 필터를 "주간"으로 선택하면

Then: 최근 7일간의 데이터가 라인 차트로 표시되고
  And: X축에 날짜가 표시되고
  And: Y축에 태스크 수가 표시되고
  And: "생성된 태스크"와 "완료된 태스크" 두 개의 라인이 표시된다
```

---

## 2. 기간 필터 시나리오

### AC-006: 일간 필터

**기능**: 일간 데이터 필터링

```gherkin
시나리오: 일간 데이터로 필터링한다

Given: 대시보드가 표시되어 있을 때

When: 사용자가 기간 필터에서 "일간"을 선택하면

Then: 시계열 차트가 최근 1일 데이터로 업데이트되고
  And: 시간별 데이터 포인트가 표시된다
```

### AC-007: 월간 필터

**기능**: 월간 데이터 필터링

```gherkin
시나리오: 월간 데이터로 필터링한다

Given: 대시보드가 표시되어 있을 때

When: 사용자가 기간 필터에서 "월간"을 선택하면

Then: 시계열 차트가 최근 30일 데이터로 업데이트되고
  And: 일별 데이터 포인트가 표시된다
```

---

## 3. 내보내기 시나리오

### AC-008: PNG 내보내기

**기능**: 대시보드를 PNG 이미지로 내보내기

```gherkin
시나리오: 대시보드를 PNG 이미지로 다운로드한다

Given: 대시보드에 차트가 표시되어 있을 때

When: 사용자가 "PNG" 내보내기 버튼을 클릭하면

Then: PNG 파일 다운로드가 시작되고
  And: 파일명이 "{project_name}_dashboard_{date}.png" 형식이고
  And: 이미지에 모든 차트가 포함된다
```

### AC-009: CSV 내보내기

**기능**: 통계 데이터를 CSV로 내보내기

```gherkin
시나리오: 통계 데이터를 CSV 파일로 다운로드한다

Given: 대시보드에 통계 데이터가 표시되어 있을 때

When: 사용자가 "CSV" 내보내기 버튼을 클릭하면

Then: CSV 파일 다운로드가 시작되고
  And: 파일명이 "{project_name}_stats_{date}.csv" 형식이고
  And: CSV에 태스크 상태별 개수, 날짜별 추이 데이터가 포함된다
```

---

## 4. 빈 상태 시나리오

### AC-010: 태스크 없음 상태

**기능**: 태스크가 없을 때 빈 상태 표시

```gherkin
시나리오: 프로젝트에 태스크가 없을 때 안내 메시지를 표시한다

Given: 프로젝트에 태스크가 하나도 없을 때

When: 사용자가 대시보드를 확인하면

Then: "태스크가 없습니다" 메시지가 표시되고
  And: "새 태스크 만들기" 버튼이 표시되고
  And: 빈 차트 대신 안내 일러스트레이션이 표시된다
```

---

## 5. 로딩 상태 시나리오

### AC-011: 로딩 인디케이터

**기능**: 데이터 로딩 중 스켈레톤 UI 표시

```gherkin
시나리오: 데이터 로딩 중 스켈레톤 UI를 표시한다

Given: 사용자가 대시보드에 접근했을 때

When: 서버에서 데이터를 가져오는 동안

Then: 통계 카드 영역에 스켈레톤 UI가 표시되고
  And: 차트 영역에 스켈레톤 UI가 표시되고
  And: 로딩이 완료되면 실제 데이터로 대체된다
```

---

## 6. 에러 처리 시나리오

### AC-012: API 에러 처리

**기능**: API 호출 실패 시 에러 처리

```gherkin
시나리오: API 호출 실패 시 에러 메시지를 표시한다

Given: 대시보드 데이터를 불러오는 중에
  And: 서버에 오류가 발생했을 때

When: API 호출이 실패하면

Then: 에러 메시지가 표시되고
  And: "다시 시도" 버튼이 표시되고
  And: 이전 데이터가 있다면 캐시된 데이터를 표시한다
```

---

## 7. 반응형 시나리오

### AC-013: 태블릿 레이아웃

**기능**: 태블릿 화면에서 레이아웃 조정

```gherkin
시나리오: 태블릿 화면에서 1컬럼 레이아웃으로 표시한다

Given: 화면 너비가 768px ~ 1023px일 때

When: 사용자가 대시보드를 확인하면

Then: 차트가 1컬럼으로 세로 스택되어 표시되고
  And: 통계 카드는 2x2 그리드로 표시된다
```

### AC-014: 모바일 레이아웃

**기능**: 모바일 화면에서 컴팩트 레이아웃

```gherkin
시나리오: 모바일 화면에서 컴팩트하게 표시한다

Given: 화면 너비가 768px 미만일 때

When: 사용자가 대시보드를 확인하면

Then: 모든 요소가 1컬럼으로 표시되고
  And: 차트가 컴팩트 모드로 렌더링되고
  And: 스크롤로 모든 정보에 접근할 수 있다
```

---

## 8. 차트 클릭 시나리오

### AC-015: 파이 차트 클릭 필터링

**기능**: 파이 차트 클릭 시 태스크 필터링

```gherkin
시나리오: 파이 차트의 특정 상태를 클릭하여 태스크를 필터링한다

Given: 대시보드에 태스크 상태 차트가 표시되어 있을 때

When: 사용자가 "PRD" 영역을 클릭하면

Then: 칸반 보드로 이동하고
  And: PRD 상태의 태스크만 하이라이트되거나 필터링된다
```

---

## 9. 데이터 무결성 시나리오

### AC-016: 프로젝트 격리

**기능**: 프로젝트별 데이터 격리 확인

```gherkin
시나리오: 대시보드가 현재 프로젝트의 데이터만 표시한다

Given: 프로젝트 A에 10개, 프로젝트 B에 5개의 태스크가 있고
  And: 현재 프로젝트 A가 선택되어 있을 때

When: 사용자가 대시보드를 확인하면

Then: "총 태스크"가 10으로 표시되고
  And: 프로젝트 B의 태스크는 통계에 포함되지 않는다
```

### AC-017: 아카이브 제외

**기능**: 아카이브된 태스크 통계 제외

```gherkin
시나리오: 아카이브된 태스크는 활성 통계에서 제외된다

Given: 프로젝트에 10개의 활성 태스크와 3개의 아카이브된 태스크가 있을 때

When: 사용자가 대시보드를 확인하면

Then: "총 태스크"가 10으로 표시되고
  And: 아카이브된 3개는 별도의 "아카이브" 카드에 표시된다
```

---

## 10. 테스트 요약

| AC ID | 기능 | 우선순위 | 자동화 |
|-------|------|----------|--------|
| AC-001 | 대시보드 접근 | 필수 | 가능 |
| AC-002 | 통계 요약 표시 | 필수 | 가능 |
| AC-003 | 태스크 상태 차트 | 필수 | 가능 |
| AC-004 | 차트 호버 인터랙션 | 필수 | 가능 |
| AC-005 | 시계열 진행률 차트 | 필수 | 가능 |
| AC-006 | 일간 필터 | 필수 | 가능 |
| AC-007 | 월간 필터 | 필수 | 가능 |
| AC-008 | PNG 내보내기 | 권장 | 가능 |
| AC-009 | CSV 내보내기 | 권장 | 가능 |
| AC-010 | 빈 상태 | 필수 | 가능 |
| AC-011 | 로딩 인디케이터 | 필수 | 가능 |
| AC-012 | API 에러 처리 | 필수 | 가능 |
| AC-013 | 태블릿 레이아웃 | 권장 | 가능 |
| AC-014 | 모바일 레이아웃 | 권장 | 가능 |
| AC-015 | 차트 클릭 필터링 | 권장 | 가능 |
| AC-016 | 프로젝트 격리 | 필수 | 가능 |
| AC-017 | 아카이브 제외 | 필수 | 가능 |

---

## 11. 테스트 커버리지 목표

- **필수 AC 통과율**: 100%
- **권장 AC 통과율**: 80% 이상
- **코드 커버리지**: 85% 이상
- **E2E 테스트**: 핵심 플로우 100% 커버
